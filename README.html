<!DOCTYPE html><html><head><meta charset="utf-8"><style>@font-face {
  font-family: octicons-anchor;
  src: url(data:font/woff;charset=utf-8;base64,d09GRgABAAAAAAYcAA0AAAAACjQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAABMAAAABwAAAAca8vGTk9TLzIAAAFMAAAARAAAAFZG1VHVY21hcAAAAZAAAAA+AAABQgAP9AdjdnQgAAAB0AAAAAQAAAAEACICiGdhc3AAAAHUAAAACAAAAAj//wADZ2x5ZgAAAdwAAADRAAABEKyikaNoZWFkAAACsAAAAC0AAAA2AtXoA2hoZWEAAALgAAAAHAAAACQHngNFaG10eAAAAvwAAAAQAAAAEAwAACJsb2NhAAADDAAAAAoAAAAKALIAVG1heHAAAAMYAAAAHwAAACABEAB2bmFtZQAAAzgAAALBAAAFu3I9x/Nwb3N0AAAF/AAAAB0AAAAvaoFvbwAAAAEAAAAAzBdyYwAAAADP2IQvAAAAAM/bz7t4nGNgZGFgnMDAysDB1Ml0hoGBoR9CM75mMGLkYGBgYmBlZsAKAtJcUxgcPsR8iGF2+O/AEMPsznAYKMwIkgMA5REMOXicY2BgYGaAYBkGRgYQsAHyGMF8FgYFIM0ChED+h5j//yEk/3KoSgZGNgYYk4GRCUgwMaACRoZhDwCs7QgGAAAAIgKIAAAAAf//AAJ4nHWMMQrCQBBF/0zWrCCIKUQsTDCL2EXMohYGSSmorScInsRGL2DOYJe0Ntp7BK+gJ1BxF1stZvjz/v8DRghQzEc4kIgKwiAppcA9LtzKLSkdNhKFY3HF4lK69ExKslx7Xa+vPRVS43G98vG1DnkDMIBUgFN0MDXflU8tbaZOUkXUH0+U27RoRpOIyCKjbMCVejwypzJJG4jIwb43rfl6wbwanocrJm9XFYfskuVC5K/TPyczNU7b84CXcbxks1Un6H6tLH9vf2LRnn8Ax7A5WQAAAHicY2BkYGAA4teL1+yI57f5ysDNwgAC529f0kOmWRiYVgEpDgYmEA8AUzEKsQAAAHicY2BkYGB2+O/AEMPCAAJAkpEBFbAAADgKAe0EAAAiAAAAAAQAAAAEAAAAAAAAKgAqACoAiAAAeJxjYGRgYGBhsGFgYgABEMkFhAwM/xn0QAIAD6YBhwB4nI1Ty07cMBS9QwKlQapQW3VXySvEqDCZGbGaHULiIQ1FKgjWMxknMfLEke2A+IJu+wntrt/QbVf9gG75jK577Lg8K1qQPCfnnnt8fX1NRC/pmjrk/zprC+8D7tBy9DHgBXoWfQ44Av8t4Bj4Z8CLtBL9CniJluPXASf0Lm4CXqFX8Q84dOLnMB17N4c7tBo1AS/Qi+hTwBH4rwHHwN8DXqQ30XXAS7QaLwSc0Gn8NuAVWou/gFmnjLrEaEh9GmDdDGgL3B4JsrRPDU2hTOiMSuJUIdKQQayiAth69r6akSSFqIJuA19TrzCIaY8sIoxyrNIrL//pw7A2iMygkX5vDj+G+kuoLdX4GlGK/8Lnlz6/h9MpmoO9rafrz7ILXEHHaAx95s9lsI7AHNMBWEZHULnfAXwG9/ZqdzLI08iuwRloXE8kfhXYAvE23+23DU3t626rbs8/8adv+9DWknsHp3E17oCf+Z48rvEQNZ78paYM38qfk3v/u3l3u3GXN2Dmvmvpf1Srwk3pB/VSsp512bA/GG5i2WJ7wu430yQ5K3nFGiOqgtmSB5pJVSizwaacmUZzZhXLlZTq8qGGFY2YcSkqbth6aW1tRmlaCFs2016m5qn36SbJrqosG4uMV4aP2PHBmB3tjtmgN2izkGQyLWprekbIntJFing32a5rKWCN/SdSoga45EJykyQ7asZvHQ8PTm6cslIpwyeyjbVltNikc2HTR7YKh9LBl9DADC0U/jLcBZDKrMhUBfQBvXRzLtFtjU9eNHKin0x5InTqb8lNpfKv1s1xHzTXRqgKzek/mb7nB8RZTCDhGEX3kK/8Q75AmUM/eLkfA+0Hi908Kx4eNsMgudg5GLdRD7a84npi+YxNr5i5KIbW5izXas7cHXIMAau1OueZhfj+cOcP3P8MNIWLyYOBuxL6DRylJ4cAAAB4nGNgYoAALjDJyIAOWMCiTIxMLDmZedkABtIBygAAAA==) format('woff');
}

* {
    box-sizing: border-box;
}

body {
    width: 980px;
    margin-right: auto;
    margin-left: auto;
}

body .markdown-body {
    padding: 45px;
    border: 1px solid #ddd;
    border-radius: 3px;
    word-wrap: break-word;
}

pre {
    font: 12px Consolas, "Liberation Mono", Menlo, Courier, monospace;
}

.markdown-body {
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
  color: #333;
  font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  font-size: 16px;
  line-height: 1.6;
  word-wrap: break-word;
}

.markdown-body a {
  background-color: transparent;
}

.markdown-body a:active,
.markdown-body a:hover {
  outline: 0;
}

.markdown-body strong {
  font-weight: bold;
}

.markdown-body h1 {
  font-size: 2em;
  margin: 0.67em 0;
}

.markdown-body img {
  border: 0;
}

.markdown-body hr {
  box-sizing: content-box;
  height: 0;
}

.markdown-body pre {
  overflow: auto;
}

.markdown-body code,
.markdown-body kbd,
.markdown-body pre {
  font-family: monospace, monospace;
  font-size: 1em;
}

.markdown-body input {
  color: inherit;
  font: inherit;
  margin: 0;
}

.markdown-body html input[disabled] {
  cursor: default;
}

.markdown-body input {
  line-height: normal;
}

.markdown-body input[type="checkbox"] {
  box-sizing: border-box;
  padding: 0;
}

.markdown-body table {
  border-collapse: collapse;
  border-spacing: 0;
}

.markdown-body td,
.markdown-body th {
  padding: 0;
}

.markdown-body input {
  font: 13px / 1.4 Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
}

.markdown-body a {
  color: #4078c0;
  text-decoration: none;
}

.markdown-body a:hover,
.markdown-body a:active {
  text-decoration: underline;
}

.markdown-body hr {
  height: 0;
  margin: 15px 0;
  overflow: hidden;
  background: transparent;
  border: 0;
  border-bottom: 1px solid #ddd;
}

.markdown-body hr:before {
  display: table;
  content: "";
}

.markdown-body hr:after {
  display: table;
  clear: both;
  content: "";
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  margin-top: 15px;
  margin-bottom: 15px;
  line-height: 1.1;
}

.markdown-body h1 {
  font-size: 30px;
}

.markdown-body h2 {
  font-size: 21px;
}

.markdown-body h3 {
  font-size: 16px;
}

.markdown-body h4 {
  font-size: 14px;
}

.markdown-body h5 {
  font-size: 12px;
}

.markdown-body h6 {
  font-size: 11px;
}

.markdown-body blockquote {
  margin: 0;
}

.markdown-body ul,
.markdown-body ol {
  padding: 0;
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body ol ol,
.markdown-body ul ol {
  list-style-type: lower-roman;
}

.markdown-body ul ul ol,
.markdown-body ul ol ol,
.markdown-body ol ul ol,
.markdown-body ol ol ol {
  list-style-type: lower-alpha;
}

.markdown-body dd {
  margin-left: 0;
}

.markdown-body code {
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  font-size: 12px;
}

.markdown-body pre {
  margin-top: 0;
  margin-bottom: 0;
  font: 12px Consolas, "Liberation Mono", Menlo, Courier, monospace;
}

.markdown-body .select::-ms-expand {
  opacity: 0;
}

.markdown-body .octicon {
  font: normal normal normal 16px/1 octicons-anchor;
  display: inline-block;
  text-decoration: none;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.markdown-body .octicon-link:before {
  content: '\f05c';
}

.markdown-body:before {
  display: table;
  content: "";
}

.markdown-body:after {
  display: table;
  clear: both;
  content: "";
}

.markdown-body>*:first-child {
  margin-top: 0 !important;
}

.markdown-body>*:last-child {
  margin-bottom: 0 !important;
}

.markdown-body a:not([href]) {
  color: inherit;
  text-decoration: none;
}

.markdown-body .anchor {
  display: inline-block;
  padding-right: 2px;
  margin-left: -18px;
}

.markdown-body .anchor:focus {
  outline: none;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  margin-top: 1em;
  margin-bottom: 16px;
  font-weight: bold;
  line-height: 1.4;
}

.markdown-body h1 .octicon-link,
.markdown-body h2 .octicon-link,
.markdown-body h3 .octicon-link,
.markdown-body h4 .octicon-link,
.markdown-body h5 .octicon-link,
.markdown-body h6 .octicon-link {
  color: #000;
  vertical-align: middle;
  visibility: hidden;
}

.markdown-body h1:hover .anchor,
.markdown-body h2:hover .anchor,
.markdown-body h3:hover .anchor,
.markdown-body h4:hover .anchor,
.markdown-body h5:hover .anchor,
.markdown-body h6:hover .anchor {
  text-decoration: none;
}

.markdown-body h1:hover .anchor .octicon-link,
.markdown-body h2:hover .anchor .octicon-link,
.markdown-body h3:hover .anchor .octicon-link,
.markdown-body h4:hover .anchor .octicon-link,
.markdown-body h5:hover .anchor .octicon-link,
.markdown-body h6:hover .anchor .octicon-link {
  visibility: visible;
}

.markdown-body h1 {
  padding-bottom: 0.3em;
  font-size: 2.25em;
  line-height: 1.2;
  border-bottom: 1px solid #eee;
}

.markdown-body h1 .anchor {
  line-height: 1;
}

.markdown-body h2 {
  padding-bottom: 0.3em;
  font-size: 1.75em;
  line-height: 1.225;
  border-bottom: 1px solid #eee;
}

.markdown-body h2 .anchor {
  line-height: 1;
}

.markdown-body h3 {
  font-size: 1.5em;
  line-height: 1.43;
}

.markdown-body h3 .anchor {
  line-height: 1.2;
}

.markdown-body h4 {
  font-size: 1.25em;
}

.markdown-body h4 .anchor {
  line-height: 1.2;
}

.markdown-body h5 {
  font-size: 1em;
}

.markdown-body h5 .anchor {
  line-height: 1.1;
}

.markdown-body h6 {
  font-size: 1em;
  color: #777;
}

.markdown-body h6 .anchor {
  line-height: 1.1;
}

.markdown-body p,
.markdown-body blockquote,
.markdown-body ul,
.markdown-body ol,
.markdown-body dl,
.markdown-body table,
.markdown-body pre {
  margin-top: 0;
  margin-bottom: 16px;
}

.markdown-body hr {
  height: 4px;
  padding: 0;
  margin: 16px 0;
  background-color: #e7e7e7;
  border: 0 none;
}

.markdown-body ul,
.markdown-body ol {
  padding-left: 2em;
}

.markdown-body ul ul,
.markdown-body ul ol,
.markdown-body ol ol,
.markdown-body ol ul {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body li>p {
  margin-top: 16px;
}

.markdown-body dl {
  padding: 0;
}

.markdown-body dl dt {
  padding: 0;
  margin-top: 16px;
  font-size: 1em;
  font-style: italic;
  font-weight: bold;
}

.markdown-body dl dd {
  padding: 0 16px;
  margin-bottom: 16px;
}

.markdown-body blockquote {
  padding: 0 15px;
  color: #777;
  border-left: 4px solid #ddd;
}

.markdown-body blockquote>:first-child {
  margin-top: 0;
}

.markdown-body blockquote>:last-child {
  margin-bottom: 0;
}

.markdown-body table {
  display: block;
  width: 100%;
  overflow: auto;
  word-break: normal;
  word-break: keep-all;
}

.markdown-body table th {
  font-weight: bold;
}

.markdown-body table th,
.markdown-body table td {
  padding: 6px 13px;
  border: 1px solid #ddd;
}

.markdown-body table tr {
  background-color: #fff;
  border-top: 1px solid #ccc;
}

.markdown-body table tr:nth-child(2n) {
  background-color: #f8f8f8;
}

.markdown-body img {
  max-width: 100%;
  box-sizing: content-box;
  background-color: #fff;
}

.markdown-body code {
  padding: 0;
  padding-top: 0.2em;
  padding-bottom: 0.2em;
  margin: 0;
  font-size: 85%;
  background-color: rgba(0,0,0,0.04);
  border-radius: 3px;
}

.markdown-body code:before,
.markdown-body code:after {
  letter-spacing: -0.2em;
  content: "\00a0";
}

.markdown-body pre>code {
  padding: 0;
  margin: 0;
  font-size: 100%;
  word-break: normal;
  white-space: pre;
  background: transparent;
  border: 0;
}

.markdown-body .highlight {
  margin-bottom: 16px;
}

.markdown-body .highlight pre,
.markdown-body pre {
  padding: 16px;
  overflow: auto;
  font-size: 85%;
  line-height: 1.45;
  background-color: #f7f7f7;
  border-radius: 3px;
}

.markdown-body .highlight pre {
  margin-bottom: 0;
  word-break: normal;
}

.markdown-body pre {
  word-wrap: normal;
}

.markdown-body pre code {
  display: inline;
  max-width: initial;
  padding: 0;
  margin: 0;
  overflow: initial;
  line-height: inherit;
  word-wrap: normal;
  background-color: transparent;
  border: 0;
}

.markdown-body pre code:before,
.markdown-body pre code:after {
  content: normal;
}

.markdown-body kbd {
  display: inline-block;
  padding: 3px 5px;
  font-size: 11px;
  line-height: 10px;
  color: #555;
  vertical-align: middle;
  background-color: #fcfcfc;
  border: solid 1px #ccc;
  border-bottom-color: #bbb;
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 #bbb;
}

.markdown-body .pl-c {
  color: #969896;
}

.markdown-body .pl-c1,
.markdown-body .pl-s .pl-v {
  color: #0086b3;
}

.markdown-body .pl-e,
.markdown-body .pl-en {
  color: #795da3;
}

.markdown-body .pl-s .pl-s1,
.markdown-body .pl-smi {
  color: #333;
}

.markdown-body .pl-ent {
  color: #63a35c;
}

.markdown-body .pl-k {
  color: #a71d5d;
}

.markdown-body .pl-pds,
.markdown-body .pl-s,
.markdown-body .pl-s .pl-pse .pl-s1,
.markdown-body .pl-sr,
.markdown-body .pl-sr .pl-cce,
.markdown-body .pl-sr .pl-sra,
.markdown-body .pl-sr .pl-sre {
  color: #183691;
}

.markdown-body .pl-v {
  color: #ed6a43;
}

.markdown-body .pl-id {
  color: #b52a1d;
}

.markdown-body .pl-ii {
  background-color: #b52a1d;
  color: #f8f8f8;
}

.markdown-body .pl-sr .pl-cce {
  color: #63a35c;
  font-weight: bold;
}

.markdown-body .pl-ml {
  color: #693a17;
}

.markdown-body .pl-mh,
.markdown-body .pl-mh .pl-en,
.markdown-body .pl-ms {
  color: #1d3e81;
  font-weight: bold;
}

.markdown-body .pl-mq {
  color: #008080;
}

.markdown-body .pl-mi {
  color: #333;
  font-style: italic;
}

.markdown-body .pl-mb {
  color: #333;
  font-weight: bold;
}

.markdown-body .pl-md {
  background-color: #ffecec;
  color: #bd2c00;
}

.markdown-body .pl-mi1 {
  background-color: #eaffea;
  color: #55a532;
}

.markdown-body .pl-mdr {
  color: #795da3;
  font-weight: bold;
}

.markdown-body .pl-mo {
  color: #1d3e81;
}

.markdown-body kbd {
  display: inline-block;
  padding: 3px 5px;
  font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
  line-height: 10px;
  color: #555;
  vertical-align: middle;
  background-color: #fcfcfc;
  border: solid 1px #ccc;
  border-bottom-color: #bbb;
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 #bbb;
}

.markdown-body .plan-price-unit {
  color: #767676;
  font-weight: normal;
}

.markdown-body .task-list-item {
  list-style-type: none;
}

.markdown-body .task-list-item+.task-list-item {
  margin-top: 3px;
}

.markdown-body .task-list-item input {
  margin: 0 0.35em 0.25em -1.6em;
  vertical-align: middle;
}

.markdown-body .plan-choice {
  padding: 15px;
  padding-left: 40px;
  display: block;
  border: 1px solid #e0e0e0;
  position: relative;
  font-weight: normal;
  background-color: #fafafa;
}

.markdown-body .plan-choice.open {
  background-color: #fff;
}

.markdown-body .plan-choice.open .plan-choice-seat-breakdown {
  display: block;
}

.markdown-body .plan-choice-free {
  border-radius: 3px 3px 0 0;
}

.markdown-body .plan-choice-paid {
  border-radius: 0 0 3px 3px;
  border-top: 0;
  margin-bottom: 20px;
}

.markdown-body .plan-choice-radio {
  position: absolute;
  left: 15px;
  top: 18px;
}

.markdown-body .plan-choice-exp {
  color: #999;
  font-size: 12px;
  margin-top: 5px;
}

.markdown-body .plan-choice-seat-breakdown {
  margin-top: 10px;
  display: none;
}

.markdown-body :checked+.radio-label {
  z-index: 1;
  position: relative;
  border-color: #4078c0;
}
</style><title>README</title></head><body><article class="markdown-body"><h1 id="data-access-service-icrt-extension">
<a id="user-content-data-access-service-icrt-extension" class="anchor" href="#data-access-service-icrt-extension" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Data Access Service ICRT Extension</h1>



<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#features">Features</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#package-contents">Package Contents</a></li>
<li>
<a href="#das-wrapper-components">DAS Wrapper Components</a>

<ul>
<li>
<a href="#bpel-processes-automated-steps">BPEL Processes (Automated Steps)</a>

<ul>
<li>
<a href="#execsqlbpel">execSQL.bpel</a>

<ul>
<li><a href="#tdataaccessrequest-object">tDataAccessRequest Object</a></li>
</ul>
</li>
<li><a href="#execmultisqlbpel">execMultiSQl.bpel</a></li>
</ul>
</li>
<li><a href="#pdds">PDDs</a></li>
<li><a href="#xquery-library-modules">XQuery Library Modules</a></li>
<li><a href="#automated-step-service-metadata">Automated Step Service Metadata</a></li>
</ul>
</li>
<li>
<a href="#possible-adjustments">Possible Adjustments</a>

<ul>
<li><a href="#add-support-for-additional-data-sources">Add Support for Additional Data Sources</a></li>
</ul>
</li>
</ul>



<h2 id="introduction">
<a id="user-content-introduction" class="anchor" href="#introduction" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Introduction</h2>

<p>Informatica Application Integration Platform (Informatica Cloud Real Time - ICRT) provides many built in connectors including JDBC Connector.</p>

<p>Although JDBC Connector provide simple metadata-driven access to read and write database records, you may need some more advanced access that is not supported by this connector such as</p>

<ul>
<li>Bulk inserts, updates</li>
<li>Invoke Arbitrary SQL including DDL statements</li>
<li>Invoke Stored Procedures</li>
<li>Access Database Specific features such as Invoking Oracle Pipelined and Parallel Table Functions</li>
<li>Performance Optimized Queries</li>
</ul>

<p>Informatica Process Engine provides built-in JDBC Connectivity which can be leveraged in such cases, but requires ad-hoc use of Data Access Service (DAS).</p>

<p>Data Access Service provides implementers with the ability to interact with a database to manipulate its structure and content, and execute queries and stored procedures.</p>

<p>This package contains Generic Wrapper for this Service That allows Consumption of this System Service directly from IPD processes
<a href="http://infocenter.activevos.com/infocenter/ActiveVOS/v92/index.jsp?topic=/com.activee.bpep.doc/html/UG28-9-1.html">See the documentation for DAS</a></p>

<h2 id="features">
<a id="user-content-features" class="anchor" href="#features" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Features</h2>

<ul>
<li>Support for execSQL and execMultiSql operations</li>
<li>Supports all parameters and data types supported by the DAS (except binary blobs and attachments)</li>
<li>Support for stored procedures calls and batched updates</li>
<li>Exposed as Automated Step (Seamless integration with IPD)</li>
<li>Support up to 5 Data sources (possible to extend)</li>
</ul>

<h2 id="installation">
<a id="user-content-installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h2>

<p>You will need an Informatica Cloud Real Time (ICRT) Process Developer to build and install this package
To download the Process Developer, do following:</p>

<ol>
<li>Login to the Informatica Cloud: <a href="https://app.informaticaondemand.com/ma/">https://app.informaticaondemand.com/ma/</a>
</li>
<li>Assuming you have the ICRT license enabled, click <code>Design &gt; Services and Processes</code>.</li>
<li>In the ICRT process designer, launch <code>Design Home &gt; Forms &gt; Process Developer &gt; Landing page</code>.</li>
<li>Download the Eclipse process Developer and install.</li>
<li>Import this project zip into an eclipse workspace using Eclipse menu <code>File &gt; Import &gt; Existing Projects into Workspace</code> select the Archive Option</li>
<li>Validate the project and check for errors</li>
<li>Create <code>target/bpr</code> directory in the project toot</li>
<li>Run <code>File &gt; Export &gt; Orchestration &gt; Contribution - Business Process Archive</code> project export wizard</li>
<li>Make sure that you  set following export parameter as follows</li>
<li>Bpr File: <code>/com.informatica.cloud.das/target/bpr/com.informatica.cloud.das.bpr</code>
</li>
<li>Check the <code>Save the contribution specification as Ant script ...</code> option, it is useful for subsequent builds</li>
<li>Set the Target bprd file name to <code>/com.informatica.cloud.das/deploy/com.informatica.cloud.das.bprd</code>'</li>
<li>Optionally you can set the deployment option to deeply directly to your cloud org, this saves one step in the deployment as you have to deploy manually only to agents</li>
<li>Deployment Url should be following <code>https://ps1w2-ics.rt.informaticacloud.com/active-bpel/services/[YOURORGID]/ActiveBpelDeployBPR</code>
</li>
<li>Deploy the produced bpr from <code>/com.informatica.cloud.das/target/bpr/com.informatica.cloud.das.bpr</code> bot to your cloud org and all agents where you want to use this DAS service</li>
<li>Import attached <code>/com.informatica.cloud.das/sample-data/IPD_SOURCE_RELEASE_1.0.zip</code> to your IPD</li>
<li>Adjust target Agent name in the imported Proxy processes <code>execSQLProxy</code> and <code>execMultiSQLProxy</code>
</li>
<li>Setup and Configure DS1 to DSn in the <code>Process Console &gt; Admin &gt;  Datasource Service</code> section</li>
<li>Publish all provided resources imported in the step 15</li>
<li>You can use provided test case to verify functionality (test need write and create table, drop table permissions as it creates/drops test table)</li>
<li>Use the provided <code>TEST DAS</code> process as reference and example of use to build your own processes</li>
</ol>

<h2 id="package-contents">
<a id="user-content-package-contents" class="anchor" href="#package-contents" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Package Contents</h2>

<ul>
<li>Automated Steps Processes supporting <code>execSQL</code> and <code>execMultiSql</code> operations of the DAS</li>
<li>Metadata to describe Automated step to IPD</li>
<li>Components to Support IPD Processes

<ul>
<li>Service Connector and Connection - provides metadata about the Automated Step Input/Output Parameters</li>
<li>Example Proxy Services (Provide access to Automated Steps from The Cloud Process or Guides)</li>
<li>Test Cases and sample code</li>
<li>Sample Data</li>
<li>Documentation</li>
</ul>
</li>
</ul>

<h2 id="das-wrapper-components">
<a id="user-content-das-wrapper-components" class="anchor" href="#das-wrapper-components" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>DAS Wrapper Components</h2>

<h3 id="bpel-processes-automated-steps">
<a id="user-content-bpel-processes-automated-steps" class="anchor" href="#bpel-processes-automated-steps" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>BPEL Processes (Automated Steps)</h3>

<h4 id="execsqlbpel">
<a id="user-content-execsqlbpel" class="anchor" href="#execsqlbpel" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>execSQL.bpel</h4>

<p>Process Implements Automated Step Service  available in the IPD under
<code>Services &gt; Data Access Services &gt; execSQL</code></p>

<p><strong>Input Fields:</strong></p>

<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>dataAccessRequest</td>
<td><code>DataAccessService:tDataAccessRequest</code></td>
<td>tDataAccessRequest  Object</td>
</tr>
</tbody>
</table>

<p><strong>Output Fields:</strong></p>

<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>dataAccessResponse</td>
<td><code>DataAccessService:tResponse</code></td>
<td>tResponse Object</td>
</tr>
</tbody>
</table>

<h5 id="tdataaccessrequest-object">
<a id="user-content-tdataaccessrequest-object" class="anchor" href="#tdataaccessrequest-object" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>tDataAccessRequest Object</h5>

<p>execSQL Parameters</p>

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>sqlStatement</td>
<td>Element containing the required  and optional parameters</td>
</tr>
<tr>
<td>includeMetadata</td>
<td>Returns a row of metadata about the query columns prior to the actual return data (default = false). Meta data includes data type and display size.</td>
</tr>
<tr>
<td>maxRows</td>
<td>Maximum number of result rows to be returned. (default = 0 or unlimited)</td>
</tr>
<tr>
<td>maxWaitSeconds</td>
<td>Maximum time to wait for results. (default = 0 or unlimited)</td>
</tr>
<tr>
<td>columnCase</td>
<td>Specifies the case formatting of the columns in the result set (default is unchanged from server). Schema enumerations defined for this element include lowercase, uppercase, and unchanged</td>
</tr>
<tr>
<td>statementId</td>
<td>Specified as part of request to help identify results (default is to auto generate an Id that results in an Id such as statement-1, statement-2)</td>
</tr>
<tr>
<td>statement</td>
<td>(Required.) SQL statement to execute</td>
</tr>
<tr>
<td>parameter</td>
<td>Identifies the data to be inserted, updated or deleted from the data source. Parameter values are listed in order within a  element associated with a statement. See Parameter-Based Request for Insert, Update, Delete Statements below.</td>
</tr>
<tr>
<td>sqlType</td>
<td>Parameter attribute. Types include string (default), byte, short, int, long, float, double, date, binary, or clob</td>
</tr>
<tr>
<td>attachmentId</td>
<td>Parameter attribute. Specified as part of request to help identify results attachments, if any. See Handling Binary Data below.</td>
</tr>
<tr>
<td>hasResultSet</td>
<td>Indicates that a stored procedures returns data. Only use this parameter if this is true.</td>
</tr>
</tbody>
</table>

<p>Note that the <code>&lt;parameter&gt;</code>, <code>&lt;parameterBatch&gt;</code> and <code>&lt;procedure&gt;</code> elements of the tDataAccessRequest are optional and mutually exclusive. You will use list of parameters only when the <code>&lt;statement&gt;&lt;/statement&gt;</code> field (element) contain SQL statement formulated as prepared statements such as</p>

<div class="highlight highlight-source-sql"><pre><span class="pl-k">INSERT INTO</span> test_table
    (col_varchar,
    col_int,
    col_datetime,
    col_bigint)
<span class="pl-k">values</span>
    (?,?,?,?)</pre></div>

<p>Complete tDataAccessRequest Structure example</p>

<div class="highlight highlight-text-xml"><pre>&lt;<span class="pl-ent">tDataAccessRequest</span>&gt;
   &lt;<span class="pl-ent">sqlStatement</span>&gt;
      &lt;<span class="pl-ent">maxRows</span>&gt;&lt;/<span class="pl-ent">maxRows</span>&gt;
      &lt;<span class="pl-ent">maxWaitSeconds</span>&gt;&lt;/<span class="pl-ent">maxWaitSeconds</span>&gt;
      &lt;<span class="pl-ent">statementId</span>&gt;&lt;/<span class="pl-ent">statementId</span>&gt;
      &lt;<span class="pl-ent">columnCase</span>&gt;&lt;/<span class="pl-ent">columnCase</span>&gt;
      &lt;<span class="pl-ent">includeMetadata</span>&gt;&lt;/<span class="pl-ent">includeMetadata</span>&gt;
      &lt;<span class="pl-ent">hasResultSet</span>&gt;&lt;/<span class="pl-ent">hasResultSet</span>&gt;
      &lt;<span class="pl-ent">statement</span>&gt;&lt;/<span class="pl-ent">statement</span>&gt;
      &lt;<span class="pl-ent">parameter</span>&gt;
         &lt;<span class="pl-ent">sqlType</span>&gt;&lt;/<span class="pl-ent">sqlType</span>&gt;
         &lt;<span class="pl-ent">attachmentId</span>&gt;&lt;/<span class="pl-ent">attachmentId</span>&gt;
         &lt;<span class="pl-ent">data</span>&gt;&lt;/<span class="pl-ent">data</span>&gt;
         &lt;<span class="pl-ent">attachment</span>&gt;&lt;/<span class="pl-ent">attachment</span>&gt;
      &lt;/<span class="pl-ent">parameter</span>&gt;
      &lt;<span class="pl-ent">parameterBatch</span>&gt;
         &lt;<span class="pl-ent">parameter</span>&gt;
            &lt;<span class="pl-ent">sqlType</span>&gt;&lt;/<span class="pl-ent">sqlType</span>&gt;
            &lt;<span class="pl-ent">attachmentId</span>&gt;&lt;/<span class="pl-ent">attachmentId</span>&gt;
            &lt;<span class="pl-ent">data</span>&gt;&lt;/<span class="pl-ent">data</span>&gt;
            &lt;<span class="pl-ent">attachment</span>&gt;&lt;/<span class="pl-ent">attachment</span>&gt;
         &lt;/<span class="pl-ent">parameter</span>&gt;
      &lt;/<span class="pl-ent">parameterBatch</span>&gt;
      &lt;<span class="pl-ent">procedure</span>&gt;
         &lt;<span class="pl-ent">procedureParameter</span>&gt;
            &lt;<span class="pl-ent">name</span>&gt;&lt;/<span class="pl-ent">name</span>&gt;
            &lt;<span class="pl-ent">sqlType</span>&gt;&lt;/<span class="pl-ent">sqlType</span>&gt;
            &lt;<span class="pl-ent">mode</span>&gt;&lt;/<span class="pl-ent">mode</span>&gt;
            &lt;<span class="pl-ent">data</span>&gt;&lt;/<span class="pl-ent">data</span>&gt;
            &lt;<span class="pl-ent">attachment</span>&gt;&lt;/<span class="pl-ent">attachment</span>&gt;
         &lt;/<span class="pl-ent">procedureParameter</span>&gt;
      &lt;/<span class="pl-ent">procedure</span>&gt;
   &lt;/<span class="pl-ent">sqlStatement</span>&gt;
   &lt;<span class="pl-ent">dataSource</span>&gt;&lt;/<span class="pl-ent">dataSource</span>&gt;
&lt;/<span class="pl-ent">tDataAccessRequest</span>&gt;</pre></div>

<p>You can use DAS to invoke even DDL statements such as</p>

<div class="highlight highlight-text-xml"><pre> &lt;<span class="pl-ent">tDataAccessRequest</span>&gt;
    &lt;<span class="pl-ent">dataSource</span>&gt;DS1&lt;/<span class="pl-ent">dataSource</span>&gt;
    &lt;<span class="pl-ent">sqlStatement</span>&gt;
       &lt;<span class="pl-ent">statement</span>&gt;CREATE TABLE test_table (
            idtest_table INT NULL AUTO_INCREMENT,
            col_varchar VARCHAR(45) NULL,
            col_int INT NULL,
            col_datetime DATETIME NULL,
            col_bigint BIGINT NULL,
            PRIMARY KEY (idtest_table),
            UNIQUE INDEX idtest_table_UNIQUE (idtest_table ASC));&lt;/<span class="pl-ent">statement</span>&gt;
       &lt;<span class="pl-ent">includeMetadata</span>&gt;true&lt;/<span class="pl-ent">includeMetadata</span>&gt;
       &lt;<span class="pl-ent">statementId</span>&gt;create_test_table&lt;/<span class="pl-ent">statementId</span>&gt;
       &lt;<span class="pl-ent">hasResultSet</span>&gt;false&lt;/<span class="pl-ent">hasResultSet</span>&gt;
    &lt;/<span class="pl-ent">sqlStatement</span>&gt;
 &lt;/<span class="pl-ent">tDataAccessRequest</span>&gt;</pre></div>

<p>It is recommended to use parametrized queries unless you invoking some static SQL, Constructing SQL statements by string concatenation is considered unsafe and prone for SQL injection attacks especially when the parameters might be a user input on the web page or request parameter. prefer prepared statement style of invocation whenever possible.</p>

<p>Here is and example of such statements</p>

<div class="highlight highlight-text-xml"><pre>&lt;<span class="pl-ent">tDataAccessRequest</span>&gt;
   &lt;<span class="pl-ent">sqlStatement</span>&gt;
      &lt;<span class="pl-ent">statementId</span>&gt;insert_rows&lt;/<span class="pl-ent">statementId</span>&gt;
      &lt;<span class="pl-ent">hasResultSet</span>&gt;false&lt;/<span class="pl-ent">hasResultSet</span>&gt;
      &lt;<span class="pl-ent">statement</span>&gt;INSERT INTO test_table
        (col_varchar,
        col_int,
        col_datetime,
        col_bigint)
        values (?,?,?,?)&lt;/<span class="pl-ent">statement</span>&gt;
      &lt;<span class="pl-ent">parameter</span>&gt;
         &lt;<span class="pl-ent">sqlType</span>&gt;string&lt;/<span class="pl-ent">sqlType</span>&gt;
         &lt;<span class="pl-ent">data</span>&gt;test&lt;/<span class="pl-ent">data</span>&gt;
      &lt;/<span class="pl-ent">parameter</span>&gt;
      &lt;<span class="pl-ent">parameter</span>&gt;
         &lt;<span class="pl-ent">sqlType</span>&gt;int&lt;/<span class="pl-ent">sqlType</span>&gt;
         &lt;<span class="pl-ent">data</span>&gt;23&lt;/<span class="pl-ent">data</span>&gt;
      &lt;/<span class="pl-ent">parameter</span>&gt;
      &lt;<span class="pl-ent">parameter</span>&gt;
         &lt;<span class="pl-ent">sqlType</span>&gt;date&lt;/<span class="pl-ent">sqlType</span>&gt;
         &lt;<span class="pl-ent">data</span>&gt;{fn:current-dateTime()}&lt;/<span class="pl-ent">data</span>&gt;
      &lt;/<span class="pl-ent">parameter</span>&gt;
      &lt;<span class="pl-ent">parameter</span>&gt;
         &lt;<span class="pl-ent">sqlType</span>&gt;double&lt;/<span class="pl-ent">sqlType</span>&gt;
         &lt;<span class="pl-ent">data</span>&gt;12345678&lt;/<span class="pl-ent">data</span>&gt;
      &lt;/<span class="pl-ent">parameter</span>&gt;
   &lt;/<span class="pl-ent">sqlStatement</span>&gt;
   &lt;<span class="pl-ent">dataSource</span>&gt;DS1&lt;/<span class="pl-ent">dataSource</span>&gt;
&lt;/<span class="pl-ent">tDataAccessRequest</span>&gt;
</pre></div>

<p>Response Example:</p>

<div class="highlight highlight-text-xml"><pre>&lt;<span class="pl-ent">tResponse</span>&gt;
    &lt;<span class="pl-ent">statementId</span>&gt;insert_rows&lt;/<span class="pl-ent">statementId</span>&gt;
    &lt;<span class="pl-ent">row</span>&gt;
       &lt;<span class="pl-ent">updatedRows</span>&gt;1&lt;/<span class="pl-ent">updatedRows</span>&gt;
    &lt;/<span class="pl-ent">row</span>&gt;
&lt;/<span class="pl-ent">tResponse</span>&gt;</pre></div>

<p>Parameter batch will be used in the case when you want to perform bulk inserts or updates  here is an example of such request</p>

<div class="highlight highlight-text-xml"><pre>&lt;<span class="pl-ent">tDataAccessRequest</span>&gt;
   &lt;<span class="pl-ent">sqlStatement</span>&gt;
      &lt;<span class="pl-ent">statementId</span>&gt;test_table_insert_many&lt;/<span class="pl-ent">statementId</span>&gt;
      &lt;<span class="pl-ent">columnCase</span>&gt;&lt;/<span class="pl-ent">columnCase</span>&gt;
      &lt;<span class="pl-ent">hasResultSet</span>&gt;false&lt;/<span class="pl-ent">hasResultSet</span>&gt;
      &lt;<span class="pl-ent">statement</span>&gt;INSERT INTO test_table
        (col_varchar,
        col_int,
        col_datetime,
        col_bigint)
        values (?,?,?,?)&lt;/<span class="pl-ent">statement</span>&gt;

      &lt;<span class="pl-ent">parameterBatch</span>&gt;
          &lt;<span class="pl-ent">parameter</span>&gt;
           &lt;<span class="pl-ent">sqlType</span>&gt;string&lt;/<span class="pl-ent">sqlType</span>&gt;
           &lt;<span class="pl-ent">data</span>&gt;test&lt;/<span class="pl-ent">data</span>&gt;
          &lt;/<span class="pl-ent">parameter</span>&gt;
          &lt;<span class="pl-ent">parameter</span>&gt;
             &lt;<span class="pl-ent">sqlType</span>&gt;int&lt;/<span class="pl-ent">sqlType</span>&gt;
             &lt;<span class="pl-ent">data</span>&gt;2&lt;/<span class="pl-ent">data</span>&gt;
          &lt;/<span class="pl-ent">parameter</span>&gt;
          &lt;<span class="pl-ent">parameter</span>&gt;
             &lt;<span class="pl-ent">sqlType</span>&gt;date&lt;/<span class="pl-ent">sqlType</span>&gt;
             &lt;<span class="pl-ent">data</span>&gt;{fn:current-dateTime()}&lt;/<span class="pl-ent">data</span>&gt;
          &lt;/<span class="pl-ent">parameter</span>&gt;
          &lt;<span class="pl-ent">parameter</span>&gt;
             &lt;<span class="pl-ent">sqlType</span>&gt;double&lt;/<span class="pl-ent">sqlType</span>&gt;
             &lt;<span class="pl-ent">data</span>&gt;444444444&lt;/<span class="pl-ent">data</span>&gt;
          &lt;/<span class="pl-ent">parameter</span>&gt;
      &lt;/<span class="pl-ent">parameterBatch</span>&gt;
      &lt;<span class="pl-ent">parameterBatch</span>&gt;
          &lt;<span class="pl-ent">parameter</span>&gt;
           &lt;<span class="pl-ent">sqlType</span>&gt;string&lt;/<span class="pl-ent">sqlType</span>&gt;
           &lt;<span class="pl-ent">data</span>&gt;3&lt;/<span class="pl-ent">data</span>&gt;
          &lt;/<span class="pl-ent">parameter</span>&gt;
          &lt;<span class="pl-ent">parameter</span>&gt;
             &lt;<span class="pl-ent">sqlType</span>&gt;int&lt;/<span class="pl-ent">sqlType</span>&gt;
             &lt;<span class="pl-ent">data</span>&gt;test&lt;/<span class="pl-ent">data</span>&gt;
          &lt;/<span class="pl-ent">parameter</span>&gt;
          &lt;<span class="pl-ent">parameter</span>&gt;
             &lt;<span class="pl-ent">sqlType</span>&gt;date&lt;/<span class="pl-ent">sqlType</span>&gt;
             &lt;<span class="pl-ent">data</span>&gt;{fn:current-dateTime()}&lt;/<span class="pl-ent">data</span>&gt;
          &lt;/<span class="pl-ent">parameter</span>&gt;
          &lt;<span class="pl-ent">parameter</span>&gt;
             &lt;<span class="pl-ent">sqlType</span>&gt;double&lt;/<span class="pl-ent">sqlType</span>&gt;
             &lt;<span class="pl-ent">data</span>&gt;987654321&lt;/<span class="pl-ent">data</span>&gt;
          &lt;/<span class="pl-ent">parameter</span>&gt;
      &lt;/<span class="pl-ent">parameterBatch</span>&gt;

   &lt;/<span class="pl-ent">sqlStatement</span>&gt;
   &lt;<span class="pl-ent">dataSource</span>&gt;DS1&lt;/<span class="pl-ent">dataSource</span>&gt;
&lt;/<span class="pl-ent">tDataAccessRequest</span>&gt;</pre></div>

<p>Example Response:</p>

<div class="highlight highlight-text-xml"><pre>&lt;<span class="pl-ent">tResponse</span>&gt;
    &lt;<span class="pl-ent">statementId</span>&gt;test_table_insert_many&lt;/<span class="pl-ent">statementId</span>&gt;
    &lt;<span class="pl-ent">row</span>&gt;
       &lt;<span class="pl-ent">updatedRows</span>&gt;1&lt;/<span class="pl-ent">updatedRows</span>&gt;
    &lt;/<span class="pl-ent">row</span>&gt;
    &lt;<span class="pl-ent">row</span>&gt;
       &lt;<span class="pl-ent">updatedRows</span>&gt;1&lt;/<span class="pl-ent">updatedRows</span>&gt;
    &lt;/<span class="pl-ent">row</span>&gt;
&lt;/<span class="pl-ent">tResponse</span>&gt;</pre></div>

<p>Select Request Example:</p>

<div class="highlight highlight-text-xml"><pre>&lt;<span class="pl-ent">tDataAccessRequest</span>&gt;
    &lt;<span class="pl-ent">sqlStatement</span>&gt;
       &lt;<span class="pl-ent">maxRows</span>&gt;10&lt;/<span class="pl-ent">maxRows</span>&gt;
       &lt;<span class="pl-ent">maxWaitSeconds</span>&gt;5&lt;/<span class="pl-ent">maxWaitSeconds</span>&gt;
       &lt;<span class="pl-ent">statementId</span>&gt;test_table_select_all&lt;/<span class="pl-ent">statementId</span>&gt;
       &lt;<span class="pl-ent">columnCase</span>&gt;unchanged&lt;/<span class="pl-ent">columnCase</span>&gt;
       &lt;<span class="pl-ent">includeMetadata</span>&gt;true&lt;/<span class="pl-ent">includeMetadata</span>&gt;
       &lt;<span class="pl-ent">hasResultSet</span>&gt;false&lt;/<span class="pl-ent">hasResultSet</span>&gt;
       &lt;<span class="pl-ent">statement</span>&gt;SELECT * FROM test_table&lt;/<span class="pl-ent">statement</span>&gt;
    &lt;/<span class="pl-ent">sqlStatement</span>&gt;
    &lt;<span class="pl-ent">dataSource</span>&gt;DS1&lt;/<span class="pl-ent">dataSource</span>&gt;
 &lt;/<span class="pl-ent">tDataAccessRequest</span>&gt;</pre></div>

<p>Select Response Example:</p>

<div class="highlight highlight-text-xml"><pre>&lt;<span class="pl-ent">tResponse</span>&gt;
    &lt;<span class="pl-ent">statementId</span>&gt;test_table_select_all&lt;/<span class="pl-ent">statementId</span>&gt;
    &lt;<span class="pl-ent">metadata</span>&gt;
       &lt;<span class="pl-ent">idtest_table</span>&gt;
          &lt;<span class="pl-ent">dataType</span>&gt;INT&lt;/<span class="pl-ent">dataType</span>&gt;
          &lt;<span class="pl-ent">displaySize</span>&gt;11&lt;/<span class="pl-ent">displaySize</span>&gt;
       &lt;/<span class="pl-ent">idtest_table</span>&gt;
       &lt;<span class="pl-ent">col_varchar</span>&gt;
          &lt;<span class="pl-ent">dataType</span>&gt;VARCHAR&lt;/<span class="pl-ent">dataType</span>&gt;
          &lt;<span class="pl-ent">displaySize</span>&gt;45&lt;/<span class="pl-ent">displaySize</span>&gt;
       &lt;/<span class="pl-ent">col_varchar</span>&gt;
       &lt;<span class="pl-ent">col_int</span>&gt;
          &lt;<span class="pl-ent">dataType</span>&gt;INT&lt;/<span class="pl-ent">dataType</span>&gt;
          &lt;<span class="pl-ent">displaySize</span>&gt;11&lt;/<span class="pl-ent">displaySize</span>&gt;
       &lt;/<span class="pl-ent">col_int</span>&gt;
       &lt;<span class="pl-ent">col_datetime</span>&gt;
          &lt;<span class="pl-ent">dataType</span>&gt;DATETIME&lt;/<span class="pl-ent">dataType</span>&gt;
          &lt;<span class="pl-ent">displaySize</span>&gt;19&lt;/<span class="pl-ent">displaySize</span>&gt;
       &lt;/<span class="pl-ent">col_datetime</span>&gt;
       &lt;<span class="pl-ent">col_bigint</span>&gt;
          &lt;<span class="pl-ent">dataType</span>&gt;BIGINT&lt;/<span class="pl-ent">dataType</span>&gt;
          &lt;<span class="pl-ent">displaySize</span>&gt;20&lt;/<span class="pl-ent">displaySize</span>&gt;
       &lt;/<span class="pl-ent">col_bigint</span>&gt;
    &lt;/<span class="pl-ent">metadata</span>&gt;
    &lt;<span class="pl-ent">row</span>&gt;
       &lt;<span class="pl-ent">idtest_table</span>&gt;1&lt;/<span class="pl-ent">idtest_table</span>&gt;
       &lt;<span class="pl-ent">col_varchar</span>&gt;test&lt;/<span class="pl-ent">col_varchar</span>&gt;
       &lt;<span class="pl-ent">col_int</span>&gt;23&lt;/<span class="pl-ent">col_int</span>&gt;
       &lt;<span class="pl-ent">col_datetime</span>&gt;2017-03-30T16:52:28Z&lt;/<span class="pl-ent">col_datetime</span>&gt;
       &lt;<span class="pl-ent">col_bigint</span>&gt;12345678&lt;/<span class="pl-ent">col_bigint</span>&gt;
    &lt;/<span class="pl-ent">row</span>&gt;
    &lt;<span class="pl-ent">row</span>&gt;
       &lt;<span class="pl-ent">idtest_table</span>&gt;2&lt;/<span class="pl-ent">idtest_table</span>&gt;
       &lt;<span class="pl-ent">col_varchar</span>&gt;test&lt;/<span class="pl-ent">col_varchar</span>&gt;
       &lt;<span class="pl-ent">col_int</span>&gt;2&lt;/<span class="pl-ent">col_int</span>&gt;
       &lt;<span class="pl-ent">col_datetime</span>&gt;2017-03-30T16:52:29Z&lt;/<span class="pl-ent">col_datetime</span>&gt;
       &lt;<span class="pl-ent">col_bigint</span>&gt;444444444&lt;/<span class="pl-ent">col_bigint</span>&gt;
    &lt;/<span class="pl-ent">row</span>&gt;
    &lt;<span class="pl-ent">row</span>&gt;
       &lt;<span class="pl-ent">idtest_table</span>&gt;3&lt;/<span class="pl-ent">idtest_table</span>&gt;
       &lt;<span class="pl-ent">col_varchar</span>&gt;3&lt;/<span class="pl-ent">col_varchar</span>&gt;
       &lt;<span class="pl-ent">col_int</span>/&gt;
       &lt;<span class="pl-ent">col_datetime</span>&gt;2017-03-30T16:52:29Z&lt;/<span class="pl-ent">col_datetime</span>&gt;
       &lt;<span class="pl-ent">col_bigint</span>&gt;987654321&lt;/<span class="pl-ent">col_bigint</span>&gt;
    &lt;/<span class="pl-ent">row</span>&gt;
&lt;/<span class="pl-ent">tResponse</span>&gt;</pre></div>

<h4 id="execmultisqlbpel">
<a id="user-content-execmultisqlbpel" class="anchor" href="#execmultisqlbpel" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>execMultiSQl.bpel</h4>

<p>This allows to invoke multiple Database statements in one request, this is very useful when you need to run multiple statements of a different kind. It supports the same set parameters and both static and parametrized queries as well as stored procedures and DDL statement as the execSQL Service. It only adds ability to execute multiple statements at the same time where the DAs service provides individual result set or output for each statement
<code>execMultiSQL</code> supports can be used for example to couple two statements together such as inserting a row to the database and finding out the primary key  generated as auto-increment or a sequence by the database which is often Database specific.</p>

<p>Example Multi Data Access Request</p>

<div class="highlight highlight-text-xml"><pre>&lt;<span class="pl-ent">tMultiDataAccessRequest</span>&gt;
   &lt;<span class="pl-ent">sqlStatement</span>&gt;
      &lt;<span class="pl-ent">statementId</span>&gt;insert_rows&lt;/<span class="pl-ent">statementId</span>&gt;
      &lt;<span class="pl-ent">hasResultSet</span>&gt;false&lt;/<span class="pl-ent">hasResultSet</span>&gt;
      &lt;<span class="pl-ent">statement</span>&gt;INSERT INTO test_table
        (col_varchar,
        col_int,
        col_datetime,
        col_bigint)
        values (?,?,?,?)&lt;/<span class="pl-ent">statement</span>&gt;
      &lt;<span class="pl-ent">parameter</span>&gt;
         &lt;<span class="pl-ent">sqlType</span>&gt;string&lt;/<span class="pl-ent">sqlType</span>&gt;
         &lt;<span class="pl-ent">data</span>&gt;test&lt;/<span class="pl-ent">data</span>&gt;
      &lt;/<span class="pl-ent">parameter</span>&gt;
      &lt;<span class="pl-ent">parameter</span>&gt;
         &lt;<span class="pl-ent">sqlType</span>&gt;int&lt;/<span class="pl-ent">sqlType</span>&gt;
         &lt;<span class="pl-ent">data</span>&gt;23&lt;/<span class="pl-ent">data</span>&gt;
      &lt;/<span class="pl-ent">parameter</span>&gt;
      &lt;<span class="pl-ent">parameter</span>&gt;
         &lt;<span class="pl-ent">sqlType</span>&gt;date&lt;/<span class="pl-ent">sqlType</span>&gt;
         &lt;<span class="pl-ent">data</span>&gt;{fn:current-dateTime()}&lt;/<span class="pl-ent">data</span>&gt;
      &lt;/<span class="pl-ent">parameter</span>&gt;
      &lt;<span class="pl-ent">parameter</span>&gt;
         &lt;<span class="pl-ent">sqlType</span>&gt;double&lt;/<span class="pl-ent">sqlType</span>&gt;
         &lt;<span class="pl-ent">data</span>&gt;12345678&lt;/<span class="pl-ent">data</span>&gt;
      &lt;/<span class="pl-ent">parameter</span>&gt;
   &lt;/<span class="pl-ent">sqlStatement</span>&gt;
   &lt;<span class="pl-ent">sqlStatement</span>&gt;
      &lt;<span class="pl-ent">statementId</span>&gt;get_rows_id&lt;/<span class="pl-ent">statementId</span>&gt;
      &lt;<span class="pl-ent">hasResultSet</span>&gt;true&lt;/<span class="pl-ent">hasResultSet</span>&gt;
      &lt;<span class="pl-ent">statement</span>&gt;SELECT LAST_INSERT_ID()&lt;/<span class="pl-ent">statement</span>&gt; <span class="pl-c"><span class="pl-c">&lt;!--</span> Get Last inserted ID in MySql<span class="pl-c">--&gt;</span></span>
      <span class="pl-c"><span class="pl-c">&lt;!--</span> in SQL Server use SELECT SCOPE_IDENTITY()  <span class="pl-c">--&gt;</span></span>
   &lt;/<span class="pl-ent">sqlStatement</span>&gt;
   &lt;<span class="pl-ent">dataSource</span>&gt;DS1&lt;/<span class="pl-ent">dataSource</span>&gt;
&lt;/<span class="pl-ent">tMultiDataAccessRequest</span>&gt;
</pre></div>

<p>Response:</p>

<div class="highlight highlight-text-xml"><pre>&lt;<span class="pl-ent">multiDataAccessResponse</span>&gt;
    &lt;<span class="pl-ent">result</span>&gt;
       &lt;<span class="pl-ent">statementId</span>&gt;insert_rows&lt;/<span class="pl-ent">statementId</span>&gt;
       &lt;<span class="pl-ent">row</span>&gt;
          &lt;<span class="pl-ent">updatedRows</span>&gt;1&lt;/<span class="pl-ent">updatedRows</span>&gt;
       &lt;/<span class="pl-ent">row</span>&gt;
    &lt;/<span class="pl-ent">result</span>&gt;
    &lt;<span class="pl-ent">result</span>&gt;
       &lt;<span class="pl-ent">statementId</span>&gt;get_rows_id&lt;/<span class="pl-ent">statementId</span>&gt;
       &lt;<span class="pl-ent">row</span>&gt;
          &lt;<span class="pl-ent">LAST_INSERT_ID</span>&gt;4&lt;/<span class="pl-ent">LAST_INSERT_ID</span>&gt;
       &lt;/<span class="pl-ent">row</span>&gt;
    &lt;/<span class="pl-ent">result</span>&gt;
&lt;/<span class="pl-ent">multiDataAccessResponse</span>&gt;</pre></div>

<h3 id="pdds">
<a id="user-content-pdds" class="anchor" href="#pdds" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>PDDs</h3>

<p>Each BPEL process (Service) needs a <a href="http://infocenter.activevos.com/infocenter/ActiveVOS/v92/index.jsp?topic=/com.activee.bpep.doc/html/UG20-5.html">Process Deployment Descriptor</a> to describe the process to a process engine.
These are located in the deploy directory of this project
Please consult the Documentation for further details on PDDs</p>

<h3 id="xquery-library-modules">
<a id="user-content-xquery-library-modules" class="anchor" href="#xquery-library-modules" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>XQuery Library Modules</h3>

<p>This package contains two main modules</p>

<ul>
<li>
<code>/com.informatica.cloud.das/xquery/infa-das.xq</code> Module that implements custom function to transform input/output process object to the wire SOAP message format required by the DAS service and transform DAS responses back to simplified XML format of the process object response data</li>
<li>
<code>com.informatica.cloud.das/test/xquery/infa-das-test.xq</code> - unit test to validate functionality of the <code>infa-das.xq</code> library module</li>
<li>
<code>com.informatica.cloud.das/test/xquery/infa-das-test.xq</code> - Library module for unit testing</li>
</ul>

<h3 id="automated-step-service-metadata">
<a id="user-content-automated-step-service-metadata" class="anchor" href="#automated-step-service-metadata" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Automated Step Service Metadata</h3>

<p>IPD needs a metadata to provide access to Services in the Designer, to make the automated step visible we need to provide a service descriptor similar to a metadata used and generated by the IPD designer In this case we have to create such file manually by following the XSD schema provided by the platform. Here is a complete listing of the <code>config/services.xml</code> provided with this package.</p>

<div class="highlight highlight-text-xml"><pre>&lt;?<span class="pl-ent">xml</span><span class="pl-e"> version</span>=<span class="pl-s"><span class="pl-pds">"</span>1.0<span class="pl-pds">"</span></span><span class="pl-e"> encoding</span>=<span class="pl-s"><span class="pl-pds">"</span>UTF-8<span class="pl-pds">"</span></span>?&gt;
&lt;<span class="pl-ent">screenflowContribution</span> <span class="pl-e">xmlns</span>=<span class="pl-s"><span class="pl-pds">"</span>http://schemas.active-endpoints.com/appmodules/screenflow/2010/10/avosServiceDiscovery.xsd<span class="pl-pds">"</span></span>&gt;
   &lt;<span class="pl-ent">service</span> <span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>execSQL<span class="pl-pds">"</span></span>&gt;
      &lt;<span class="pl-ent">avosServiceName</span>&gt;execSQL&lt;/<span class="pl-ent">avosServiceName</span>&gt;
      &lt;<span class="pl-ent">displayName</span>&gt;execSQL&lt;/<span class="pl-ent">displayName</span>&gt;
      &lt;<span class="pl-ent">category</span>&gt;Data Access Services&lt;/<span class="pl-ent">category</span>&gt;
      &lt;<span class="pl-ent">description</span>&gt;You can interact directly with a data source within a IPD process by using the Data Access system service.
Using this service, you create an invoke activity that executes one statement on a specified data source and receives a result set as the response.
This service Supports One SQL statement, but multiple batched updates/inserts&lt;/<span class="pl-ent">description</span>&gt;
      &lt;<span class="pl-ent">iconLocation</span>&gt;project:/com.informatica.cloud.das/images/database.png&lt;/<span class="pl-ent">iconLocation</span>&gt;
      &lt;<span class="pl-ent">largeIconLocation</span>&gt;project:/com.informatica.cloud.das/images/database.png&lt;/<span class="pl-ent">largeIconLocation</span>&gt;
      &lt;<span class="pl-ent">input</span>&gt;
         &lt;<span class="pl-ent">parameter</span> <span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>dataAccessRequest<span class="pl-pds">"</span></span> <span class="pl-e">required</span>=<span class="pl-s"><span class="pl-pds">"</span>true<span class="pl-pds">"</span></span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>reference<span class="pl-pds">"</span></span>
            <span class="pl-e">description</span>=<span class="pl-s"><span class="pl-pds">"</span>tDataAccessRequest Object<span class="pl-pds">"</span></span>&gt;
            &lt;<span class="pl-ent">options</span>&gt;
               &lt;<span class="pl-ent">option</span> <span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>referenceTo<span class="pl-pds">"</span></span>&gt;DataAccessService:tDataAccessRequest&lt;/<span class="pl-ent">option</span>&gt;
            &lt;/<span class="pl-ent">options</span>&gt;
         &lt;/<span class="pl-ent">parameter</span>&gt;
      &lt;/<span class="pl-ent">input</span>&gt;
      &lt;<span class="pl-ent">output</span>&gt;
         &lt;<span class="pl-ent">field</span> <span class="pl-e">description</span>=<span class="pl-s"><span class="pl-pds">"</span>tResponse Object<span class="pl-pds">"</span></span>
                   <span class="pl-e">label</span>=<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>
                   <span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>dataAccessResponse<span class="pl-pds">"</span></span>
                   <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>reference<span class="pl-pds">"</span></span>&gt;
            &lt;<span class="pl-ent">options</span>&gt;
               &lt;<span class="pl-ent">option</span> <span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>referenceTo<span class="pl-pds">"</span></span>&gt;DataAccessService:tResponse&lt;/<span class="pl-ent">option</span>&gt;
            &lt;/<span class="pl-ent">options</span>&gt;
         &lt;/<span class="pl-ent">field</span>&gt;
      &lt;/<span class="pl-ent">output</span>&gt;
   &lt;/<span class="pl-ent">service</span>&gt;

   &lt;<span class="pl-ent">service</span> <span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>execMultiSQL<span class="pl-pds">"</span></span>&gt;
      &lt;<span class="pl-ent">avosServiceName</span>&gt;execMultiSQL&lt;/<span class="pl-ent">avosServiceName</span>&gt;
      &lt;<span class="pl-ent">displayName</span>&gt;execMultiSQL&lt;/<span class="pl-ent">displayName</span>&gt;
      &lt;<span class="pl-ent">category</span>&gt;Data Access Services&lt;/<span class="pl-ent">category</span>&gt;
      &lt;<span class="pl-ent">description</span>&gt;You can interact directly with a data source within a IPD process by using the Data Access system service.
Using this service, you create an invoke activity that executes Multiple statement on a specified data source and receives a result set as the response.
You can execute any SQL statement, whether you are selecting, inserting, updating or deleting data or stored procedures from a data source.
This service Supports One SQL statement, but multiple batched updates/inserts&lt;/<span class="pl-ent">description</span>&gt;
      &lt;<span class="pl-ent">iconLocation</span>&gt;project:/com.informatica.cloud.das/images/database.png&lt;/<span class="pl-ent">iconLocation</span>&gt;
      &lt;<span class="pl-ent">largeIconLocation</span>&gt;project:/com.informatica.cloud.das/images/database.png&lt;/<span class="pl-ent">largeIconLocation</span>&gt;
      &lt;<span class="pl-ent">input</span>&gt;
         &lt;<span class="pl-ent">parameter</span> <span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>multiDataAccessRequest<span class="pl-pds">"</span></span> <span class="pl-e">required</span>=<span class="pl-s"><span class="pl-pds">"</span>true<span class="pl-pds">"</span></span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>reference<span class="pl-pds">"</span></span>
            <span class="pl-e">description</span>=<span class="pl-s"><span class="pl-pds">"</span>Provide one or many statements to be executed using the MultiDataAccessRequest<span class="pl-pds">"</span></span>&gt;
            &lt;<span class="pl-ent">options</span>&gt;
               &lt;<span class="pl-ent">option</span> <span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>referenceTo<span class="pl-pds">"</span></span>&gt;DataAccessService:tMultiDataAccessRequest&lt;/<span class="pl-ent">option</span>&gt;
            &lt;/<span class="pl-ent">options</span>&gt;
         &lt;/<span class="pl-ent">parameter</span>&gt;
      &lt;/<span class="pl-ent">input</span>&gt;
      &lt;<span class="pl-ent">output</span>&gt;
         &lt;<span class="pl-ent">field</span> <span class="pl-e">description</span>=<span class="pl-s"><span class="pl-pds">"</span>tMultiResponse object<span class="pl-pds">"</span></span>
                   <span class="pl-e">label</span>=<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>
                   <span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>multiDataAccessResponse<span class="pl-pds">"</span></span>
                   <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>reference<span class="pl-pds">"</span></span>&gt;
            &lt;<span class="pl-ent">options</span>&gt;
               &lt;<span class="pl-ent">option</span> <span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>referenceTo<span class="pl-pds">"</span></span>&gt;DataAccessService:tMultiResponse&lt;/<span class="pl-ent">option</span>&gt;
            &lt;/<span class="pl-ent">options</span>&gt;
         &lt;/<span class="pl-ent">field</span>&gt;
      &lt;/<span class="pl-ent">output</span>&gt;
   &lt;/<span class="pl-ent">service</span>&gt;
&lt;/<span class="pl-ent">screenflowContribution</span>&gt;</pre></div>

<p>Note that the Service Descriptors refer to process objects such as <code>DataAccessService:tMultiResponse</code> or <code>DataAccessService:tMultiDataAccessRequest</code> that are defined in separate files that must be also deployed and published on the target ICRT Org instance. This is necessary to provide metadata for design time in the IPD to describe the process objects. You will need to import and publish following Objects included in the <code>/com.informatica.cloud.das/sample-data/IPD_SOURCE_RELEASE_1.0.zip</code> zip file</p>

<ul>
<li>DataAccessService.conn.xml</li>
<li>DataAccessService.svc.xml</li>
</ul>

<p>These are the Service Connector and connection Definition that should be used in the design of your processes only process objects defined in them, Do not use the service actions directly.</p>

<p>Other files included in this package are:</p>

<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>TEST_DAS.gt.xml</td>
<td>Guide to test and demonstrate DAS Wrapper implementation</td>
</tr>
<tr>
<td>TEST_DAS.pd.xml</td>
<td>Unit test process to test, Validate and Demo functionality of the DAS Service Wrapper</td>
</tr>
<tr>
<td>TestResult.po.xml</td>
<td>Process Object USed by the above test process and guides</td>
</tr>
<tr>
<td>execMultiSQLProxy.pd.xml</td>
<td>Example Proxy service to enable DAS automated Step invocation from GUIDE or Cloud Processes</td>
</tr>
<tr>
<td>execSQLProxy.pd.xml</td>
<td>Example Proxy service to enable DAS automated Step invocation from GUIDE or Cloud Processes</td>
</tr>
</tbody>
</table>

<p>You will need to adjust <code>execMultiSQLProxy.pd.xml</code> and <code>execSQLProxy.pd.xml</code> accordingly after importing them to your Org as these processes must be deployed to agent to act as a proxy for calls from the Guide or Processes deployed on the Cloud process engine.
You will need to set target Agent before publishing them. If you have more than one agent with DAS services configured you will have to clone these two processes and deploy the to all agent where the DAS Access from Cloud is needed.
These two processes are not necessary if you create IPD process deployed and published to an agent where the DAS wrapper Automated Steps are deployed and Where the DAS service is configured. In this case IPD can call the DAS Automated steps directly as it is shown in the <code>TEST_DAS.pd.xml</code> process</p>

<h2 id="possible-adjustments">
<a id="user-content-possible-adjustments" class="anchor" href="#possible-adjustments" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Possible Adjustments</h2>

<h3 id="add-support-for-additional-data-sources">
<a id="user-content-add-support-for-additional-data-sources" class="anchor" href="#add-support-for-additional-data-sources" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Add Support for Additional Data Sources</h3>

<p>If the currently supported 5 Data sources is not enough for your ICRT Implementation and you need more you can simply add more Data Source definitions into your environment and Automated Step processes</p>

<ol>
<li>Open each of the bpel processes included in the Informatica Process Developer</li>
<li>Add a new partner link called DSn where n is the number for new data Source PLT such as <code>DS6</code>
</li>
<li>Add a new if condition branch to existing process</li>
<li>Edit the condition and set it to following <code>$gDataAccessRequest/das:sqlStatement/@dataSource='DS6'</code>
</li>
<li>rename the condition branch label 'if' to <code>DS6</code>
</li>
<li>Drag and drop the corresponding <code>execSQL</code> or <code>execMultiSQL</code> operation from Partner link view on to new empty branch</li>
<li>Set Input of the Invoke to already existing global variable  <code>gDataAccessrequest</code> or <code>gMultiDataAccessRequest</code>
</li>
<li>Set the output to already existing global variable  <code>gDataAccessResponse</code> or <code>gMultiDataAccessResponse</code>
</li>
<li>Save the BPEL changes</li>
<li>Open corresponding PDD for the edited process, it will be automatically updated to include new partner link definition (a reference to new data source)</li>
<li>Edit the new 'DS6' PArtner link properties as it has missing mapping for a data source name, set the Service Invoke Handle to a <code>System Service</code> and the JNDI  name to <code>jdbbc/DS6</code>
</li>
<li>Save The PDD</li>
</ol>

<p>Repeat the same for as many Data Sources as you need
After you complete changes make sure than you export the contribution and build new bpr and deploy the package to both cloud Server and agents
You should test new branches by creating similar process to provided <code>TEST_DAS.pd.xml</code></p>

<p>You should also update the <code>DataAccessService.svc.xml</code> in the IPD Connector designer and new data Sources to a DataSource field parameter pick-list definition and re-publish both connector and connection definition.
This will ensure consistency of your metadata with your service implementation</p>
</article></body></html>